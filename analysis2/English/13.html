<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis 2: Final Exam (June 09, 2010) - Improved Version</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    
    <style>
        /* Custom styles for a more polished and modern look */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Dark blue-slate background */
            color: #e2e8f0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%231e293b' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v-5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5h-9v5h-1v-5H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5v-9H0v-1h5V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1v5h9V0h1-v5h9V0h1v5h9V0h1v5h9V0h1v5Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
        }
        
        .exam-container {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(30, 41, 59, 0.5); /* Semi-transparent slate */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(100, 116, 139, 0.3);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        .exam-header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(100, 116, 139, 0.5);
        }
        
        .exam-title {
            font-size: 2.75rem;
            color: #f1f5f9;
            font-weight: 800;
        }
        
        .exam-subtitle {
            font-size: 1.25rem;
            color: #94a3b8;
        }
        
        .section-title {
            font-size: 2.25rem;
            color: #e2e8f0;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid #4f46e5;
        }
        
        .exercise {
            margin-bottom: 2.5rem;
            padding: 2rem;
            border-radius: 1rem;
            background-color: rgba(15, 23, 42, 0.5);
            border: 1px solid #334155;
            transition: all 0.3s ease;
        }
        .exercise:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            border-color: #4f46e5;
        }
        
        .exercise-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: #93c5fd; /* Light blue for titles */
            margin-bottom: 1rem;
        }

        .exercise-content p, .modal-content p, .exercise-content li, .modal-content li {
            line-height: 1.8;
            margin-bottom: 1rem;
            color: #cbd5e1;
        }
        
        .btn-container {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            border-radius: 9999px; /* Pill shape */
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        .btn-secondary {
            background-color: #475569;
            color: white;
        }
        .btn-tertiary {
            background-color: #10b981;
            color: white;
        }
        
        .modal {
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: #1e293b;
            margin: auto;
            padding: 2.5rem;
            border: 1px solid #475569;
            width: 90%;
            max-width: 700px;
            border-radius: 1rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            animation: fadeIn 0.5s;
            color: #e2e8f0;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #475569;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .modal-title {
            font-size: 1.75rem;
            color: #f1f5f9;
        }
        
        .close-btn {
            color: #94a3b8;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #f1f5f9;
        }
        
        @keyframes fadeIn {
            from {opacity: 0; transform: scale(0.95) translateY(10px);}
            to {opacity: 1; transform: scale(1) translateY(0);}
        }

        .katex-display {
            background-color: #0f172a;
            border-color: #334155;
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .cs-card {
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border-radius: 1rem;
            padding: 2rem;
            border: 1px solid #334155;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.4), 0 2px 4px -1px rgba(0,0,0,0.2);
        }
        .cs-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.3), 0 10px 10px -5px rgba(0,0,0,0.2);
            border-color: #4f46e5;
        }
        
        pre[class*="language-"] {
            background: #0f172a;
            color: #e2e8f0;
            padding: 1.5em;
            margin: 1em 0;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Fira Code', 'Courier New', Courier, monospace;
            border: 1px solid #334155;
        }
    </style>
</head>
<body class="antialiased">

    <div class="exam-container">
        <header class="exam-header">
            <h1 class="exam-title">Analysis II</h1>
            <p class="exam-subtitle">Final Exam (June 09, 2010)</p>
        </header>

        <main>
            <section id="exam-questions">
                <h2 class="section-title">Exam Questions</h2>
                
                <div class="exercise">
                    <h3 class="exercise-title">Exercise 1 (4 pts)</h3>
                    <div class="exercise-content">
                        <p>Solve the following differential equation:</p>
                        <div class="katex-display" data-katex="(x^2+1)y' - 2xy = \arctan x"></div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-primary" onclick="showModal('hint1')">Hint</button>
                        <button class="btn btn-secondary" onclick="showModal('knowledge1')">Prerequisites</button>
                    </div>
                </div>

                <div class="exercise">
                    <h3 class="exercise-title">Exercise 2 (4 pts)</h3>
                    <div class="exercise-content">
                        <p>Solve the following differential equation:</p>
                         <div class="katex-display" data-katex="y'' - 3y' + 2y = x"></div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-primary" onclick="showModal('hint2')">Hint</button>
                        <button class="btn btn-secondary" onclick="showModal('knowledge2')">Prerequisites</button>
                    </div>
                </div>

                <div class="exercise">
                    <h3 class="exercise-title">Exercise 3 (8 pts)</h3>
                    <div class="exercise-content">
                        <p>Calculate the indefinite integrals:</p>
                        <p>1. <span class="katex-inline" data-katex="\int \frac{x^4+2x+1}{(x-1)^3(x^2+1)}dx"></span></p>
                        <p>2. <span class="katex-inline" data-katex="\int \frac{2x \ln(x^2+1)}{x^2+1}dx"></span></p>
                        <p>3. <span class="katex-inline" data-katex="\int 2x \arctan(x) dx"></span></p>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-primary" onclick="showModal('hint3')">Hint</button>
                        <button class="btn btn-secondary" onclick="showModal('knowledge3')">Prerequisites</button>
                    </div>
                </div>

                <div class="exercise">
                    <h3 class="exercise-title">Exercise 4 (6 pts)</h3>
                    <div class="exercise-content">
                        <p>1. Calculate the Taylor expansion of order 4 around 0 for the function <span class="katex-inline" data-katex="f(x) = (1+x)^{\sin x}"></span>.</p>
                        <p>2. Hence, deduce the value of the limit <span class="katex-inline" data-katex="\lim_{x \to 0} \frac{f(x) - x \ln(1+x) - 1}{x^4}"></span>.</p>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-primary" onclick="showModal('hint4')">Hint</button>
                        <button class="btn btn-secondary" onclick="showModal('knowledge4')">Prerequisites</button>
                    </div>
                </div>
            </section>

            <section id="exam-solutions">
                <h2 class="section-title">Detailed Solutions</h2>

                <div class="exercise">
                    <h3 class="exercise-title">Solution to Exercise 1</h3>
                    <div class="exercise-content">
                        <p>The general solution of the equation is:</p>
                        <div class="katex-display" data-katex="y(x) = \frac{(x^2+1)(\arctan x)^2}{4} + \frac{x \arctan x}{2} + \frac{1-x^2}{8} + C(x^2+1)"></div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-tertiary" onclick="showModal('explanation1')">Detailed Explanation</button>
                    </div>
                </div>

                <div class="exercise">
                    <h3 class="exercise-title">Solution to Exercise 2</h3>
                    <div class="exercise-content">
                        <p>The general solution of the equation is:</p>
                        <div class="katex-display" data-katex="y(x) = c_1 e^x + c_2 e^{2x} + \frac{1}{2}x + \frac{3}{4}"></div>
                    </div>
                    <div class="btn-container">
                        <button class="btn btn-tertiary" onclick="showModal('explanation2')">Detailed Explanation</button>
                    </div>
                </div>

                <div class="exercise">
                    <h3 class="exercise-title">Solution to Exercise 3</h3>
                    <div class="exercise-content">
                        <p>1. <span class="katex-inline" data-katex="\int \frac{x^4+2x+1}{(x-1)^3(x^2+1)}dx = \ln|x-1| - \frac{1}{x-1} - \frac{1}{(x-1)^2} + \arctan x + C"></span></p>
                        <p>2. <span class="katex-inline" data-katex="\int \frac{2x \ln(x^2+1)}{x^2+1}dx = \frac{1}{2}(\ln(x^2+1))^2 + C"></span></p>
                        <p>3. <span class="katex-inline" data-katex="\int 2x \arctan(x) dx = (x^2+1)\arctan x - x + C"></span></p>
                    </div>
                     <div class="btn-container">
                        <button class="btn btn-tertiary" onclick="showModal('explanation3')">Detailed Explanation</button>
                    </div>
                </div>
                
                <div class="exercise">
                    <h3 class="exercise-title">Solution to Exercise 4</h3>
                    <div class="exercise-content">
                        <p>1. The Taylor expansion of order 4 is:</p>
                        <div class="katex-display" data-katex="f(x) = 1 + x^2 - \frac{x^3}{2} + \frac{2}{3}x^4 + o(x^4)"></div>
                        <p>2. The value of the limit is:</p>
                        <div class="katex-display" data-katex="\lim_{x \to 0} \frac{f(x) - x \ln(1+x) - 1}{x^4} = \frac{1}{3}"></div>
                    </div>
                     <div class="btn-container">
                        <button class="btn btn-tertiary" onclick="showModal('explanation4')">Detailed Explanation</button>
                    </div>
                </div>
            </section>

            <section id="cs-applications">
                <h2 class="section-title">Applications in Computer Science</h2>
                <div class="space-y-12">
    
                    <div class="cs-card">
                        <h3 class="text-3xl font-bold text-purple-400 mb-4">1. Taylor Expansions & Asymptotes: Algorithm Analysis üìà</h3>
                        <p class="text-lg mb-4 text-slate-300">In computer science, analyzing an algorithm's complexity is crucial. We want to know how its execution time or memory consumption changes as the input data size (<span class="katex-inline" data-katex="n"></span>) becomes very large. This "asymptotic" behavior is exactly what we study in mathematics with asymptotes. Taylor expansions in <span class="katex-inline" data-katex="1/n"></span> are a powerful tool for analyzing complex formulas and extracting their dominant behavior.</p>
                        <h4 class="text-xl font-semibold text-slate-200 mt-6 mb-2">Practical Example: Complexity of a Recursive Algorithm</h4>
                        <p class="mb-4 text-slate-400">The execution time <span class="katex-inline" data-katex="T(n)"></span> of a "divide and conquer" algorithm can often be described by a recurrence relation. Solving these relations can lead to complex formulas. Using a Taylor expansion for <span class="katex-inline" data-katex="n \to \infty"></span> helps to simplify the expression and compare it to major complexity classes (<span class="katex-inline" data-katex="O(n)"></span>, <span class="katex-inline" data-katex="O(n \log n)"></span>, <span class="katex-inline" data-katex="O(n^2)"></span>, etc.), which are the "asymptotes" of the algorithm's performance.</p>
                         <pre class="language-pseudocode"><code>// Let's assume the analysis gives us an execution time:
T(n) = n * log( (n+1)/n ) 

// For large n, we set u = 1/n. T(n) becomes (1/u) * log(1+u)
// Taylor expansion of log(1+u) = u - u^2/2 + ...
// T(n) ‚âà (1/u) * (u - u^2/2) = 1 - u/2 = 1 - 1/(2n)

// Asymptotic behavior: T(n) approaches 1.
// The algorithm has a constant complexity, O(1).
</code></pre>
                    </div>

                    <div class="cs-card">
                        <h3 class="text-3xl font-bold text-purple-400 mb-4">2. Differential Equations: System Simulation ‚ö°Ô∏è</h3>
                        <p class="text-lg mb-4 text-slate-300">Differential equations are the language of continuous change. In computer science, they are used to model dynamic systems. This goes far beyond video game physics. They are used in epidemiology to model the spread of a virus, in finance to model the evolution of stock prices (Black-Scholes model), or in electrical engineering to describe the behavior of an RLC circuit (Resistor, Inductor, Capacitor).</p>
                        <h4 class="text-xl font-semibold text-slate-200 mt-6 mb-2">Practical Example: Charging a Capacitor</h4>
                        <p class="mb-4 text-slate-400">The voltage <span class="katex-inline" data-katex="V(t)"></span> across a capacitor in a simple RC circuit is governed by a first-order linear differential equation, very similar to the one in the exercise: <span class="katex-inline" data-katex="RC \frac{dV}{dt} + V = V_s"></span> (where <span class="katex-inline" data-katex="V_s"></span> is the source voltage). Solving this equation (homogeneous solution + particular solution) allows us to predict exactly how the capacitor charges or discharges, which is fundamental for designing electronic circuits, filters, and timers.</p>
                         <pre class="language-pseudocode"><code>// The solution to the differential equation is:
// V(t) = V_s + (V_0 - V_s) * exp(-t / (R*C))

function capacitorVoltage(t, initial_voltage, source_voltage, R, C) {
  const tau = R * C; // Time constant
  return source_voltage + (initial_voltage - source_voltage) * Math.exp(-t / tau);
}

// We can now simulate the circuit's evolution
for (let time = 0; time < 10; time += 0.1) {
  console.log(`Voltage at ${time}s:`, capacitorVoltage(time, 0, 5, 1000, 0.001));
}</code></pre>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div id="hint1" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Hint for Exercise 1</h3><span class="close-btn" onclick="closeModal('hint1')">&times;</span></div><p>Start by rewriting the equation in the standard form of a first-order linear differential equation: <span class="katex-inline" data-katex="y' + a(x)y = b(x)"></span>. Then, find the integrating factor.</p></div></div>
    <div id="knowledge1" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Prerequisites for Exercise 1</h3><span class="close-btn" onclick="closeModal('knowledge1')">&times;</span></div><p><strong>First-order linear differential equations:</strong> An equation of the form <span class="katex-inline" data-katex="y' + a(x)y = b(x)"></span>. The solution is found using an integrating factor <span class="katex-inline" data-katex="I(x) = e^{\int a(x)dx}"></span>.</p><p><strong>Integration by trigonometric substitution:</strong> Useful for integrals containing terms like <span class="katex-inline" data-katex="x^2+a^2"></span>. The substitution <span class="katex-inline" data-katex="x = a \tan \theta"></span> is often effective.</p></div></div>
    <div id="explanation1" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Detailed Explanation for Exercise 1</h3><span class="close-btn" onclick="closeModal('explanation1')">&times;</span></div><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 1: Standard Form</h4><p>The equation <span class="katex-inline" data-katex="(x^2+1)y' - 2xy = \arctan x"></span> is rewritten by dividing by <span class="katex-inline" data-katex="(x^2+1)"></span> to get the standard form <span class="katex-inline" data-katex="y' - \frac{2x}{x^2+1}y = \frac{\arctan x}{x^2+1}"></span>. This is a linear equation with <span class="katex-inline" data-katex="a(x) = -\frac{2x}{x^2+1}"></span> and <span class="katex-inline" data-katex="b(x) = \frac{\arctan x}{x^2+1}"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 2: Integrating Factor</h4><p>We calculate an antiderivative of <span class="katex-inline" data-katex="a(x)"></span>: <span class="katex-display" data-katex="A(x) = \int -\frac{2x}{x^2+1}dx = -\ln(x^2+1)"></span>. The integrating factor is <span class="katex-inline" data-katex="I(x) = e^{A(x)} = e^{-\ln(x^2+1)} = \frac{1}{x^2+1}"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 3: General Solution</h4><p>The solution is given by the formula <span class="katex-inline" data-katex="y(x) = \frac{1}{I(x)} (\int b(x)I(x)dx + C)"></span>. Substituting, we get: <span class="katex-display" data-katex="y(x) = (x^2+1) \left( \int \frac{\arctan x}{(x^2+1)^2} dx + C \right)"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 4: Calculating the Integral</h4><p>To calculate <span class="katex-inline" data-katex="\int \frac{\arctan x}{(x^2+1)^2} dx"></span>, we use the trigonometric substitution <span class="katex-inline" data-katex="x = \tan \theta"></span>. This gives <span class="katex-inline" data-katex="dx = \sec^2 \theta d\theta"></span> and <span class="katex-inline" data-katex="x^2+1 = \sec^2 \theta"></span>. The integral becomes <span class="katex-inline" data-katex="\int \theta \cos^2 \theta d\theta"></span>. We use the identity <span class="katex-inline" data-katex="\cos^2 \theta = \frac{1+\cos(2\theta)}{2}"></span> and integrate by parts to find the result. After substituting back for x, we obtain the final solution.</p></div></div>
    <div id="hint2" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Hint for Exercise 2</h3><span class="close-btn" onclick="closeModal('hint2')">&times;</span></div><p>This is a second-order linear differential equation with constant coefficients. Start by solving the characteristic equation of the homogeneous equation. Then, look for a particular solution of the same form as the right-hand side (a polynomial).</p></div></div>
    <div id="knowledge2" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Prerequisites for Exercise 2</h3><span class="close-btn" onclick="closeModal('knowledge2')">&times;</span></div><p><strong>Second-order linear differential equations:</strong> An equation of the form <span class="katex-inline" data-katex="ay'' + by' + cy = g(x)"></span>. The solution is <span class="katex-inline" data-katex="y = y_h + y_p"></span>, where <span class="katex-inline" data-katex="y_h"></span> is the solution to the homogeneous equation and <span class="katex-inline" data-katex="y_p"></span> is a particular solution.</p><p><strong>Method of undetermined coefficients:</strong> A technique for finding <span class="katex-inline" data-katex="y_p"></span> when the right-hand side is a polynomial, an exponential, a sine, or a cosine.</p></div></div>
    <div id="explanation2" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Detailed Explanation for Exercise 2</h3><span class="close-btn" onclick="closeModal('explanation2')">&times;</span></div><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 1: Solution of the Homogeneous Equation</h4><p>The homogeneous equation is <span class="katex-inline" data-katex="y'' - 3y' + 2y = 0"></span>. The characteristic equation <span class="katex-inline" data-katex="r^2 - 3r + 2 = 0 \Rightarrow (r-1)(r-2)=0"></span> has roots <span class="katex-inline" data-katex="r_1=1, r_2=2"></span>. The homogeneous solution is therefore <span class="katex-inline" data-katex="y_h(x) = c_1 e^x + c_2 e^{2x}"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 2: Finding a Particular Solution</h4><p>The right-hand side is <span class="katex-inline" data-katex="x"></span>, a polynomial of degree 1. We look for a particular solution of the form <span class="katex-inline" data-katex="y_p(x) = ax+b"></span>. We calculate its derivatives: <span class="katex-inline" data-katex="y'_p = a, y''_p = 0"></span>. We substitute into the full equation: <span class="katex-display" data-katex="0 - 3(a) + 2(ax+b) = x"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 3: Identification of Coefficients</h4><p>By identifying the coefficients of the powers of x, we get the system: <span class="katex-inline" data-katex="2a = 1"></span> and <span class="katex-inline" data-katex="2b-3a = 0"></span>. This gives <span class="katex-inline" data-katex="a = 1/2"></span> and <span class="katex-inline" data-katex="b = 3/4"></span>. The particular solution is <span class="katex-inline" data-katex="y_p(x) = \frac{1}{2}x + \frac{3}{4}"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">Step 4: General Solution</h4><p>The general solution is the sum of the homogeneous and particular solutions: <span class="katex-display" data-katex="y(x) = y_h(x) + y_p(x) = c_1 e^x + c_2 e^{2x} + \frac{1}{2}x + \frac{3}{4}"></span>.</p></div></div>
    <div id="hint3" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Hint for Exercise 3</h3><span class="close-btn" onclick="closeModal('hint3')">&times;</span></div><p>1. For the first integral, use partial fraction decomposition. The form will be <span class="katex-inline" data-katex="\frac{A}{x-1} + \frac{B}{(x-1)^2} + \frac{C}{(x-1)^3} + \frac{Dx+E}{x^2+1}"></span>.</p><p>2. For the second one, a simple substitution <span class="katex-inline" data-katex="u = \ln(x^2+1)"></span> is very effective.</p><p>3. For the third, integration by parts is the way to go.</p></div></div>
    <div id="knowledge3" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Prerequisites for Exercise 3</h3><span class="close-btn" onclick="closeModal('knowledge3')">&times;</span></div><p><strong>Partial fraction decomposition:</strong> For integrating rational functions.</p><p><strong>Integration by substitution (u-substitution):</strong> Simplifies integrals by changing the integration variable.</p><p><strong>Integration by parts:</strong> Based on the product rule for differentiation, useful for integrating products of functions. Formula: <span class="katex-inline" data-katex="\int u dv = uv - \int v du"></span>.</p></div></div>
    <div id="explanation3" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Detailed Explanation for Exercise 3</h3><span class="close-btn" onclick="closeModal('explanation3')">&times;</span></div><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">1. Integral by Partial Fraction Decomposition</h4><p>The integrand <span class="katex-inline" data-katex="\frac{x^4+2x+1}{(x-1)^3(x^2+1)}"></span> is decomposed into <span class="katex-inline" data-katex="\frac{1}{x-1} + \frac{1}{(x-1)^2} + \frac{2}{(x-1)^3} + \frac{1}{x^2+1}"></span>. After finding the coefficients, we integrate each term separately to get <span class="katex-inline" data-katex="\ln|x-1| - \frac{1}{x-1} - \frac{1}{(x-1)^2} + \arctan x + C"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">2. Integral by Substitution</h4><p>For <span class="katex-inline" data-katex="\int \frac{2x \ln(x^2+1)}{x^2+1}dx"></span>, we set <span class="katex-inline" data-katex="u = \ln(x^2+1)"></span>. Then <span class="katex-inline" data-katex="du = \frac{2x}{x^2+1}dx"></span>. The integral becomes <span class="katex-inline" data-katex="\int u du"></span>, which easily integrates to <span class="katex-inline" data-katex="\frac{1}{2}u^2 + C"></span>. Returning to x, we have <span class="katex-inline" data-katex="\frac{1}{2}(\ln(x^2+1))^2 + C"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">3. Integral by Parts</h4><p>For <span class="katex-inline" data-katex="\int 2x \arctan(x) dx"></span>, we choose <span class="katex-inline" data-katex="u = \arctan x"></span> and <span class="katex-inline" data-katex="dv = 2x dx"></span>. We calculate <span class="katex-inline" data-katex="du = \frac{1}{1+x^2}dx"></span> and <span class="katex-inline" data-katex="v = x^2"></span>. Applying the integration by parts formula, we get <span class="katex-inline" data-katex="x^2 \arctan x - \int \frac{x^2}{1+x^2}dx"></span>. The remaining integral, <span class="katex-inline" data-katex="\int \frac{x^2}{1+x^2}dx"></span>, is simplified and calculated to give the final result <span class="katex-inline" data-katex="(x^2+1)\arctan x - x + C"></span>.</p></div></div>
    <div id="hint4" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Hint for Exercise 4</h3><span class="close-btn" onclick="closeModal('hint4')">&times;</span></div><p>1. To calculate the Taylor expansion, use the exponential form <span class="katex-inline" data-katex="f(x) = e^{\sin x \ln(1+x)}"></span>. First, calculate the expansion of the exponent <span class="katex-inline" data-katex="\sin x \ln(1+x)"></span>, then compose it with the expansion of <span class="katex-inline" data-katex="e^u"></span>.</p><p>2. For the limit, replace <span class="katex-inline" data-katex="f(x)"></span> and <span class="katex-inline" data-katex="x \ln(1+x)"></span> with their respective Taylor expansions in the numerator and simplify.</p></div></div>
    <div id="knowledge4" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Prerequisites for Exercise 4</h3><span class="close-btn" onclick="closeModal('knowledge4')">&times;</span></div><p><strong>Taylor Expansions:</strong> Approximating a function with a polynomial near a point. You need to know the common expansions for <span class="katex-inline" data-katex="\sin x"></span>, <span class="katex-inline" data-katex="\ln(1+x)"></span>, and <span class="katex-inline" data-katex="e^x"></span>.</p><p><strong>Operations on Taylor Expansions:</strong> Knowing how to add, multiply, and compose Taylor expansions.</p><p><strong>Calculating limits with Taylor Expansions:</strong> Expansions allow finding the principal part of a function to resolve indeterminate forms.</p></div></div>
    <div id="explanation4" class="modal"><div class="modal-content"><div class="modal-header"><h3 class="modal-title">Detailed Explanation for Exercise 4</h3><span class="close-btn" onclick="closeModal('explanation4')">&times;</span></div><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">1. Calculating the Taylor Expansion</h4><p><strong>Step 1: Exponential form.</strong> We write <span class="katex-inline" data-katex="f(x) = (1+x)^{\sin x} = e^{\sin x \ln(1+x)}"></span>.</p><p><strong>Step 2: Expansion of the exponent.</strong> We multiply the known expansions of <span class="katex-inline" data-katex="\sin x = x - \frac{x^3}{6} + o(x^4)"></span> and <span class="katex-inline" data-katex="\ln(1+x) = x - \frac{x^2}{2} + \frac{x^3}{3} - \frac{x^4}{4} + o(x^4)"></span> keeping only terms up to order 4. <span class="katex-display" data-katex="(\sin x)(\ln(1+x)) = (x - \frac{x^3}{6})(x - \frac{x^2}{2} + \frac{x^3}{3} - \frac{x^4}{4}) + o(x^4)"></span>. The product is <span class="katex-inline" data-katex="x^2 - \frac{x^3}{2} + \frac{x^4}{6} + o(x^4)"></span>.</p><p><strong>Step 3: Composition.</strong> We set <span class="katex-inline" data-katex="u = x^2 - \frac{x^3}{2} + \frac{x^4}{6}"></span> and use the expansion of <span class="katex-inline" data-katex="e^u"></span>. We substitute <span class="katex-inline" data-katex="u"></span> into the expansion of <span class="katex-inline" data-katex="e^u = 1 + u + \frac{u^2}{2!} + o(u^2)"></span>, being careful with the powers of u. We obtain <span class="katex-inline" data-katex="f(x) = 1 + x^2 - \frac{x^3}{2} + \frac{2}{3}x^4 + o(x^4)"></span>.</p><h4 class="text-xl font-bold mt-4 mb-2 text-blue-300">2. Calculating the Limit</h4><p><strong>Step 1: Expansion of the numerator.</strong> We calculate the expansion of <span class="katex-inline" data-katex="f(x) - x\ln(1+x) - 1"></span>. The expansion of <span class="katex-inline" data-katex="x\ln(1+x)"></span> is <span class="katex-inline" data-katex="x(x - \frac{x^2}{2} + \frac{x^3}{3} + o(x^3)) = x^2 - \frac{x^3}{2} + \frac{x^4}{3} + o(x^4)"></span>. We subtract this expansion and 1 from the expansion of f(x) found previously: <span class="katex-display" data-katex="(1 + x^2 - \frac{x^3}{2} + \frac{2}{3}x^4) - (x^2 - \frac{x^3}{2} + \frac{x^4}{3}) - 1 + o(x^4) = \frac{1}{3}x^4 + o(x^4)"></span>.</p><p><strong>Step 2: Calculating the limit.</strong> The limit becomes <span class="katex-inline" data-katex="\lim_{x \to 0} \frac{\frac{1}{3}x^4 + o(x^4)}{x^4}"></span>. The result is the coefficient of the lowest degree term, which is <span class="katex-inline" data-katex="\frac{1}{3}"></span>.</p></div></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Defer rendering slightly to ensure all content is loaded
            setTimeout(() => {
                document.querySelectorAll('.katex-inline, .katex-display').forEach(el => {
                    const content = el.getAttribute('data-katex');
                    // Ensure content is not empty to avoid KaTeX errors
                    if (content) {
                        const displayMode = el.classList.contains('katex-display');
                        try {
                            katex.render(content, el, {
                                throwOnError: false, // Don't throw errors, log to console instead
                                displayMode: displayMode
                            });
                        } catch (e) {
                            console.error("KaTeX rendering error for content:", content, e);
                            el.innerHTML = `<span style='color: red;'>LaTeX Error: ${content}</span>`;
                        }
                    }
                });
            }, 100);
        });

        function showModal(modalId) {
            document.getElementById(modalId).style.display = "flex";
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = "none";
        }

        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = "none";
                }
            }
        }
    </script>
</body>
</html>